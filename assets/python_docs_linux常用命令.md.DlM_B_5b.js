import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.DWdSXOaE.js";const p="/assets/image-20250807140544807.C7j8N_II.png",h="/assets/image-20250807140705726.D6kI6qOL.png",F=JSON.parse('{"title":"Linux 常用命令","description":"","frontmatter":{},"headers":[],"relativePath":"python_docs/linux常用命令.md","filePath":"python_docs/linux常用命令.md"}'),n={name:"python_docs/linux常用命令.md"};function l(d,s,k,o,r,g){return t(),a("div",null,[...s[0]||(s[0]=[e('<h1 id="linux-常用命令" tabindex="-1">Linux 常用命令 <a class="header-anchor" href="#linux-常用命令" aria-label="Permalink to &quot;Linux 常用命令&quot;">​</a></h1><h2 id="一、查找包含指定字符串的文件【grep-、find】" tabindex="-1">一、查找包含指定字符串的文件【grep 、find】 <a class="header-anchor" href="#一、查找包含指定字符串的文件【grep-、find】" aria-label="Permalink to &quot;一、查找包含指定字符串的文件【grep 、find】&quot;">​</a></h2><h3 id="_1-1-使用grep命令" tabindex="-1">1.1 使用grep命令 <a class="header-anchor" href="#_1-1-使用grep命令" aria-label="Permalink to &quot;1.1 使用grep命令&quot;">​</a></h3><p>grep 是 Linux 中强大的文本搜索工具，支持递归搜索文件内容。</p><p>在当前目录及其子目录中查找包含特定字符串的文件： <em>grep -rn &quot;字符串&quot; ./</em> -r：递归搜索子目录。 -n：显示匹配行的行号。</p><ul><li>如果需要忽略大小写：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rni</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span></span></code></pre></div><ul><li>仅显示匹配的文件名：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span></span></code></pre></div><h3 id="_1-2-使用find-和-xargs-命令" tabindex="-1">1.2 使用find 和 xargs 命令 <a class="header-anchor" href="#_1-2-使用find-和-xargs-命令" aria-label="Permalink to &quot;1.2 使用find 和 xargs 命令&quot;">​</a></h3><p>结合 <em>find</em> 和 <em>xargs</em> 可以实现更灵活的搜索。</p><ul><li>在指定目录中查找所有文件并搜索内容：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span></span></code></pre></div><ul><li>仅显示包含字符串的文件名：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span></span></code></pre></div><ul><li>如果需要忽略大小写：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span></span></code></pre></div><h3 id="_1-3-知道文件类型时查找" tabindex="-1">1.3 知道文件类型时查找 <a class="header-anchor" href="#_1-3-知道文件类型时查找" aria-label="Permalink to &quot;1.3 知道文件类型时查找&quot;">​</a></h3><p>如果知道目标文件的类型（如 <em>.txt</em> 文件），可以进一步优化搜索范围。</p><ul><li>查找特定类型文件并搜索内容：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.txt&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span></span></code></pre></div><ul><li>忽略大小写并仅显示文件名：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.txt&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -li</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;字符串&quot;</span></span></code></pre></div><h2 id="二、系统重新分配内存" tabindex="-1">二、系统重新分配内存 <a class="header-anchor" href="#二、系统重新分配内存" aria-label="Permalink to &quot;二、系统重新分配内存&quot;">​</a></h2><h3 id="_2-1-drop-chches" tabindex="-1">2.1 drop_chches <a class="header-anchor" href="#_2-1-drop-chches" aria-label="Permalink to &quot;2.1 drop_chches&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/proc/sys/vm/drop_chches</span></span></code></pre></div><p>0：0是系统默认值，默认情况下表示不释放内存，由操作系统自动管理</p><p>1：释放页缓存　]</p><p>2：释放dentries和inodes</p><p>3：释放所有缓存</p><p>那么下面举个例子，比如这里只释放页缓存，首先使用 free -h 查看当前内存剩余</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">free</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span></span></code></pre></div><p><img src="'+p+'" alt="image-20250807140544807"></p><p>当前内存剩余570M左右，另外buff/cache是1.3G，根据上面说的现在真正的剩余内存应该是1.8G左右，</p><p>首先写缓存到文件系统：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sync</span></span></code></pre></div><p>然后执行下面命令释放内存(页缓存buff/cache)：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/sys/vm/drop_caches</span></span></code></pre></div><p>执行完之后，再次查看内存剩余：</p><p><img src="'+h+'" alt="image-20250807140705726"></p><p>会发现内存被释放了，可用内存确实变为1.8G左右</p><p>到这里内存就释放完了，现在drop_caches中的值为1，如果现在想让操作系统重新分配内存，那么设置drop_caches的值为0即可：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/sys/vm/drop_caches</span></span></code></pre></div><h2 id="三、vi-vim" tabindex="-1">三、vi vim <a class="header-anchor" href="#三、vi-vim" aria-label="Permalink to &quot;三、vi  vim&quot;">​</a></h2><p>要在vi中进行搜索，首先需要确保处于命令模式（普通模式）。这可以通过按下<em>Esc</em>键来实现。一旦进入命令模式，可以使用以下步骤进行搜索：</p><ol><li><p>输入*/*字符，进入搜索模式。</p></li><li><p>紧接着输入要搜索的字符串，例如*/your_search_term*。</p></li><li><p>按下<em>Enter</em>键执行搜索。</p></li></ol><p><strong>高级搜索技巧</strong></p><p>除了基本搜索外，vi还支持使用正则表达式进行更复杂的搜索模式匹配。例如，如果你想<strong>搜索所有以字母&quot;a&quot;开头的单词</strong>，可以使用以下命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/\\va\\w*</span></span></code></pre></div><p>在这里，<em>\\v</em>表示启用非转义的非规范模式，而*\\w**表示匹配零个或多个单词字符。</p><p><strong>搜索高亮显示</strong></p><p>为了更容易地识别搜索结果，vi允许用户设置搜索结果的高亮显示。可以通过在命令模式下输入以下命令来启用此功能：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hlsearch</span></span></code></pre></div><p>这样，所有搜索匹配的内容将在文本中高亮显示。</p><p><strong>全词匹配</strong></p><p>有时候，我们可能只想搜索作为独立单词出现的字符串。为了实现全词匹配，可以在搜索关键字前后添加*\\b*。例如，搜索单词&quot;test&quot;，可以使用：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/\\btest\\b</span></span></code></pre></div><p><strong>搜索和替换</strong></p><p>vi还提供了搜索和替换的功能。例如，要将文件中所有的&quot;old&quot;替换为&quot;new&quot;，可以使用以下命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">%s/old/new/g</span></span></code></pre></div>',60)])])}const u=i(n,[["render",l]]);export{F as __pageData,u as default};
